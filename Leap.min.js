var Leap={APIVersion:"0.7.7"};Leap.Pointable=function(t,i,e){null==e&&(e=this),null==t?(e.P=Leap.Frame.invalid(),e.Ai=Leap.Hand.invalid(),e.H=null,e.C=!1,e.N=new Leap.Vector,e.p=new Leap.Vector,e.o=new Leap.Vector,e.AK=null,e.AT=null):(e.P=i?i.P:Leap.Frame.invalid(),e.Ai=i,e.H=t.id,e.C=!0,e.N=new Leap.Vector(t.direction),e.p=new Leap.Vector(t.tipPosition),e.o=new Leap.Vector(t.tipVelocity),e.AK=t.length,e.AT=t.width)},Leap.Pointable.prototype={frame:function(){return this.P},hand:function(){return this.Ai},id:function(){return this.H},direction:function(){return this.N},tipPosition:function(){return this.p},tipVelocity:function(){return this.o},isFinger:function(){return this.AO},isTool:function(){return this.AZ},length:function(){return this.AK},width:function(){return this.AT},toString:function(){var t="{id:"+this.H+",direction:"+this.N.toString()+",";return t+="tipPosition:"+this.p.toString()+",",t+="tipVelocity:"+this.o.toString()+",",t+="length:"+this.AK+",",t+="width:"+this.AT+"}"},isValid:function(){return this.C},U:function(){this.P=null}},Leap.Pointable.invalid=function(){return new Leap.Pointable},Leap.V=function(){},Leap.V.prototype=new Array,Leap.V.prototype.count=function(){return this.length},Leap.V.prototype.isEmpty=function(){return 0===this.length},Leap.V.prototype.empty=function(){return 0===this.length},Leap.V.prototype.append=function(t){for(i=0;t.length>i;i++)this.push(t[i])},Leap.V.prototype.U=function(){for(var t=0;this.length>t;t++)this[t].U()},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),Leap.AnimLoop=function(t,i){this.B=t,this.Af=i;var e=this;this.Ac=function(t){window.requestAnimFrame(function(){e.Ac(e.B)}),e.Af(t)},t.isConnected()?window.requestAnimFrame(function(){e.Ac(e.B)}):(this.S=new Leap.Listener,this.S.onConnect=function(){e.B.removeListener(e.S),window.requestAnimFrame(function(){e.Ac(e.B)})},t.addListener(this.S))},Leap.Calibrate=function(t){this.B=t,this.AF=[];var i=this;this.b=document.createElement("div"),this.b.style.cssText=this.AA+this.t,this.b.innerHTML="1",this.AE=this.AX,this.b.onclick=function(){i.AE()},window.onkeyup=function(t){32===t.keyCode&&i.AE()},this.AL=document.createElement("div"),this.AL.style.cssText=this.AM+this.t,this.AL.innerHTML="Position one finger on the square until<br>it turns green then click it or press space.",this.AD=document.createElement("div"),this.AD.style.cssText=this.AC+this.t,document.body.appendChild(this.b),document.body.appendChild(this.AL),document.body.appendChild(this.AD);var i=this;this.S=new Leap.Listener,this.S.onFrame=function(t){i.AS(t)},this.B.addListener(this.S),this.G=null,this.AQ=new Leap.Vector([0,0,-1])},Leap.Calibrate.prototype={AA:"width: 20px; height: 20px; padding: 10px; margin: -20px; position: fixed; text-align: center; background-color: #c3cccc; color: #ffffff; cursor: pointer; ",t:"left: 25%; top: 50%;",v:"left: 25%; top: 25%;",w:"left: 75%; top: 50%;",AM:"height: 32px; padding-top: 4px; padding-bottom: 4px; padding-left: 8px; padding-right: 8px; margin-top: -20px; margin-left: 26px; border-radius: 5px; position: fixed; background-color: rgba(0,0,0,0.7); color: #FFFFFF; font: 14px Helvetica, Sans-Serif;",AC:"height: 0; width: 0; border: 6px solid; border-color: transparent rgba(0,0,0,0.7) transparent transparent; margin-top: -6px; margin-left: 14px; position: fixed;",AX:function(){this.B.frame().pointables(),this.G&&(this.AF[0]=this.G.tipPosition(),this.b.style.cssText=this.AA+this.v,this.AL.style.cssText=this.AM+this.v,this.AD.style.cssText=this.AC+this.v,this.b.innerHTML="2",this.AE=this.AY)},AY:function(){this.B.frame().pointables(),this.G&&(this.AF[1]=this.G.tipPosition(),this.b.style.cssText=this.AA+this.w,this.AL.style.cssText=this.AM+this.w,this.AD.style.cssText=this.AC+this.w,this.b.innerHTML="3",this.AE=this.AV)},AV:function(){if(this.B.frame().pointables(),this.G){this.AF[2]=this.G.tipPosition(),document.body.removeChild(this.b),document.body.removeChild(this.AL),document.body.removeChild(this.AD),delete this.b;var t=new Leap.Screen(this.AF);this.B.u.push(t),this.B.u.save(),this.B.removeListener(this.S),this.onComplete(t)}},AS:function(t){var i=t.frame().pointables(),e=i.count();this.G=null;for(var n=0;e>n;n++){var s=i[n];s.direction().angleTo(this.AQ)<Math.PI/8&&(null==this.G||this.G.tipPosition().z>s.tipPosition().z)&&(this.G=s)}this.b.style.backgroundColor=null==this.G?"#c3cccc":"#BCD63C"},onComplete:function(){}},"undefined"==typeof WebSocket&&"undefined"!=typeof MozWebSocket&&(WebSocket=MozWebSocket),Leap.Controller=function(t){this.k=[],this.s={},this.J={},this.AW=0,this.e=64,this.I=0,this.u=new Leap.ScreenList,this.M=!1,this.K={};for(var i=0;this.e>i;i++)this.k[i]=Leap.Frame.invalid();this.AR(t)},Leap.Controller.prototype={isConnected:function(){return this.L.connected},frame:function(t){return null==t||0==t?this.k[this.I]:t>this.e-1?Leap.Frame.invalid():(t=this.I-t,0>t&&(t+=this.e),this.k[t])},addListener:function(t){t.H=this.AW++,this.J[t.H]=t,t.onInit(this)},removeListener:function(t){t.onExit(this),this.J[t.H].onExit(this),delete this.J[t.H]},config:function(){},locatedScreens:function(){return this.u},calibratedScreens:function(){return this.u},enableGesture:function(t,i){i?(this.K[t]=Leap.Gesture.Type[t],this.M||(this.M=!0,this.isConnected()&&this.L.send('{"enableGestures": true}'))):(delete this.K[t],this.M&&0==Object.keys(this.K).length&&(this.M=!1,this.isConnected()&&this.L.send('{"enableGestures": false}')))},isGestureEnabled:function(t){return this.K[t]?!0:!1},Ae:function(t){var i=JSON.parse(t.data),e=new Leap.Frame(i,this);this.I++,this.I==this.e&&(this.I=0);var n=this.k[this.I];n.U(),delete this.s[n.H],delete this.k[this.I],this.s[e.H]=e,this.k[this.I]=e;for(index in this.J)this.J[index].onFrame(this)},AP:function(t){Leap.serverVersion=JSON.parse(t.data).version,this.L.onmessage=function(t){this.B.Ae(t)}},AR:function(t){"undefined"!=typeof WebSocket&&(this.L&&delete this.L,this.L=new WebSocket(t),this.L.B=this,this.L.connected=!1,this.L.onmessage=function(t){this.B.AP(t)},this.L.onopen=function(){this.connected=!0,this.B.M&&this.send('{"enableGestures": true}');for(index in this.B.J)this.B.J[index].onConnect(this.B)},this.L.onclose=function(){this.connected=!1;for(index in this.B.J)this.B.J[index].onDisconnect(this.B);var t=this;setTimeout(function(){t.B.AR(t.url)},1e3)},this.L.onerror=function(t){this.onclose(t)})}},Leap.Finger=function(t,i){Leap.Pointable(t,i,this),this.AO=!0,this.AZ=!1},Leap.Finger.prototype=Leap.Pointable.prototype,Leap.Finger.invalid=function(){return new Leap.Finger},Leap.FingerList=function(){},Leap.FingerList.prototype=Leap.V.prototype,Leap.Frame=function(t,i){if(this.B=i,this.T=new Leap.FingerList,this.n=new Leap.ToolList,this.E=new Leap.PointableList,this.q=new Leap.HandList,this.r=new Leap.GestureList,this.O={},this.Q={},this.F={},this.i={},this.h={},null==t)this.H=null,this.j=null,this.C=!1,this.A=new Leap.Matrix,this.m=null,this.D=new Leap.Vector;else{this.H=t.id,this.j=t.timestamp,this.C=!0,this.A=new Leap.Matrix(t.r),this.m=t.s,this.D=new Leap.Vector(t.t);for(index in t.hands){var e=new Leap.Hand(t.hands[index],this);this.i[e.H]=e,this.q.push(e)}for(index in t.pointables){var n=this.i[t.pointables[index].handId];if(t.pointables[index].tool){var s=new Leap.Tool(t.pointables[index],n);this.F[s.H]=this.Q[s.H]=s,this.E.push(s),this.n.push(s),n&&(n.F[s.H]=n.Q[s.H]=s,n.E.push(s),n.n.push(s))}else{var s=new Leap.Finger(t.pointables[index],n);this.F[s.H]=this.O[s.H]=s,this.E.push(s),this.T.push(s),n&&(n.F[s.H]=n.O[s.H]=s,n.E.push(s),n.T.push(s))}}for(index in t.gestures){var r=this.B.K[t.gestures[index].type];if(r){var o=new r(t.gestures[index],this);this.h[o.H]=o,this.r.push(o)}}}},Leap.Frame.prototype={id:function(){return this.H},timestamp:function(){return this.j},rotationAngle:function(t){if(!this.C||!t.C)return 0;var i=this.rotationMatrix(t),e=.5*(i.xBasis.x+i.yBasis.y+i.zBasis.z-1),n=Math.acos(e);return isNaN(n)?0:n},rotationAxis:function(t){if(!this.C||!t.C)return Leap.Vector.zero();var i=this.A.zBasis.y-t.A.yBasis.z,e=this.A.xBasis.z-t.A.zBasis.x,n=this.A.yBasis.x-t.A.xBasis.y,s=new Leap.Vector([i,e,n]);return s.normalize()},rotationMatrix:function(t){if(!this.C||!t.C)return Leap.Matrix.identity();var i=new Leap.Vector([this.A.xBasis.x,this.A.yBasis.x,this.A.zBasis.x]),e=new Leap.Vector([this.A.xBasis.y,this.A.yBasis.y,this.A.zBasis.y]),n=new Leap.Vector([this.A.xBasis.z,this.A.yBasis.z,this.A.zBasis.z]),s=new Leap.Matrix([i,e,n]);return t.A.times(s)},scaleFactor:function(t){return this.C&&t.C?Math.exp(this.m-t.m):1},translation:function(t){if(!this.valid||!t.valid)return Leap.Vector.zero();var i=this.D.x-t.D.x,e=this.D.y-t.D.y,n=this.D.z-t.D.z;return new Leap.Vector([i,e,n])},finger:function(t){return null==this.O[t]?Leap.Finger.invalid():this.T[t]},fingers:function(){return this.T},gesture:function(t){return null==this.h[t]?Leap.Gesture.invalid():this.h[t]},gestures:function(t){if(null==t)return this.r;for(var i=new Leap.GestureList,e=t.id();this.H>=e;e++){var n=this.B.s[e];null!=n&&i.push(n.r)}return i},hand:function(t){return null==this.i[t]?Leap.Hand.invalid():this.i[t]},hands:function(){return this.q},pointable:function(t){return null==this.F[t]?Leap.Pointable.invalid():this.F[t]},pointables:function(){return this.E},tool:function(t){return null==this.Q[t]?Leap.Tool.invalid():this.Q[t]},tools:function(){return this.n},pointables:function(){return this.E},compare:function(t){return this.H==t.id},toString:function(){for(var t="{timestamp:"+this.j+",id:"+this.H+",hands:[",i=0;this.q.length>i;i++)t+=this.q[i].toString();return t+="]}"},isValid:function(){return this.C},U:function(){this.r.U(),this.q.U(),this.E.U()}},Leap.Frame.invalid=function(){return new Leap.Frame},Leap.Gesture=function(t,i,e){if(null==e&&(e=this),e.E=new Leap.PointableList,e.q=new Leap.HandList,null==t)e.H=null,e.P=Leap.Frame.invalid(),e.AU=Leap.Gesture.State.invalid,e.Ad=Leap.Gesture.Type.invalid,e.C=!1;else{e.H=t.id,e.P=i,e.AU=t.state,e.Ad=t.type,e.C=!0;for(index in t.handIds){var n=i.hand(t.handIds[index]);e.q.push(n)}for(index in t.pointableIds){var s=i.pointable(t.pointableIds[index]);e.E.push(s)}}},Leap.Gesture.prototype={id:function(){return this.H},frame:function(){return this.P},state:function(){return this.AU},type:function(){return this.Ad},toString:function(){return"{timestamp:"+this.P.j+",id:"+this.H+",type:"+this.Ad+",state:"+this.AU+"}"},isValid:function(){return this.C},U:function(){this.P=null}},Leap.Gesture.invalid=function(){return new Leap.Gesture},Leap.CircleGesture=function(t,i){Leap.Gesture(t,i,this),this.l=new Leap.Vector(t.normal),this.R=this.E[0],this.f=t.progress,this.Aj=t.radius},Leap.CircleGesture.prototype=Leap.Gesture.prototype,Leap.CircleGesture.prototype.normal=function(){return this.l},Leap.CircleGesture.prototype.pointable=function(){return this.R},Leap.CircleGesture.prototype.progress=function(){return this.f},Leap.CircleGesture.prototype.radius=function(){return this.Aj},Leap.KeyTapGesture=function(t,i){Leap.Gesture(t,i,this),this.R=this.E[0],this.g=new Leap.Vector(t.position),this.f=t.progress},Leap.KeyTapGesture.prototype=Leap.Gesture.prototype,Leap.KeyTapGesture.prototype.pointable=function(){return this.R},Leap.KeyTapGesture.prototype.position=function(){return this.g},Leap.KeyTapGesture.prototype.progress=function(){return this.f},Leap.ScreenTapGesture=function(t,i){Leap.Gesture(t,i,this),this.R=this.E[0],this.g=new Leap.Vector(t.position),this.f=t.progress},Leap.ScreenTapGesture.prototype=Leap.Gesture.prototype,Leap.ScreenTapGesture.prototype.pointable=function(){return this.R},Leap.ScreenTapGesture.prototype.position=function(){return this.g},Leap.ScreenTapGesture.prototype.progress=function(){return this.f},Leap.SwipeGesture=function(t,i){Leap.Gesture(t,i,this),this.N=new Leap.Vector(t.direction),this.R=this.E[0],this.g=new Leap.Vector(t.position),this.Ak=t.speed,this.AI=new Leap.Vector(t.startPosition)},Leap.SwipeGesture.prototype=Leap.Gesture.prototype,Leap.SwipeGesture.prototype.direction=function(){return this.N},Leap.SwipeGesture.prototype.pointable=function(){return this.R},Leap.SwipeGesture.prototype.position=function(){return this.g},Leap.SwipeGesture.prototype.speed=function(){return this.Ak},Leap.SwipeGesture.prototype.startPosition=function(){return this.AI},Leap.Gesture.State={invalid:"invalid",start:"start",stop:"stop",update:"update"},Leap.Gesture.Type={invalid:Leap.Gesture.invalid,circle:Leap.CircleGesture,keyTap:Leap.KeyTapGesture,screenTap:Leap.ScreenTapGesture,swipe:Leap.SwipeGesture},Leap.GestureList=function(){},Leap.GestureList.prototype=Leap.V.prototype,Leap.Hand=function(t,i){this.T=new Leap.FingerList,this.n=new Leap.ToolList,this.E=new Leap.PointableList,this.O={},this.Q={},this.F={},null==t?(this.P=Leap.Frame.invalid(),this.H=null,this.C=!1,this.A=new Leap.Matrix,this.m=null,this.D=new Leap.Vector,this.N=new Leap.Vector,this.d=new Leap.Vector,this.Y=new Leap.Vector,this.W=new Leap.Vector,this.Z=new Leap.Vector,this.X=null):(this.P=i,this.H=t.id,this.C=!0,this.A=new Leap.Matrix(t.r),this.m=t.s,this.D=new Leap.Vector(t.t),this.N=new Leap.Vector(t.direction),this.d=new Leap.Vector(t.palmNormal),this.Y=new Leap.Vector(t.palmPosition),this.W=new Leap.Vector(t.palmVelocity),this.Z=new Leap.Vector(t.sphereCenter),this.X=t.sphereRadius)},Leap.Hand.prototype={frame:function(){return this.P},id:function(){return this.H},direction:function(){return this.N},palmNormal:function(){return this.d},palmPosition:function(){return this.Y},palmVelocity:function(){return this.W},sphereCenter:function(){return this.Z},sphereRadius:function(){return this.X},rotationAngle:function(t){if(!this.C||!t.C)return 0;var i=t.hand(this.H);if(!i.C)return 0;var e=this.rotationMatrix(t),n=.5*(e.xBasis.x+e.yBasis.y+e.zBasis.z-1),s=Math.acos(n);return isNaN(s)?0:s},rotationAxis:function(t){if(!this.C||!t.C)return Leap.Vector.zero();var i=t.hand(this.H);if(!i.C)return Leap.Vector.zero();var e=this.A.zBasis.y-i.A.yBasis.z,n=this.A.xBasis.z-i.A.zBasis.x,s=this.A.yBasis.x-i.A.xBasis.y,r=new Leap.Vector([e,n,s]);return r.normalize()},rotationMatrix:function(t){if(!this.C||!t.C)return Leap.Matrix.identity();var i=t.hand(this.H);if(!i.C)return Leap.Matrix.identity();var e=new Leap.Vector([this.A.xBasis.x,this.A.yBasis.x,this.A.zBasis.x]),n=new Leap.Vector([this.A.xBasis.y,this.A.yBasis.y,this.A.zBasis.y]),s=new Leap.Vector([this.A.xBasis.z,this.A.yBasis.z,this.A.zBasis.z]),r=new Leap.Matrix([e,n,s]);return i.A.times(r)},scaleFactor:function(t){if(!this.C||!t.C)return 1;var i=t.hand(this.H);return i.C?Math.exp(this.m-i.m):1},translation:function(t){if(!this.valid||!t.valid)return Leap.Vector.zero();var i=t.hand(this.H);if(!i.C)return Leap.Vector.zero();var e=this.D.x-i.D.x,n=this.D.y-i.D.y,s=this.D.z-i.D.z;return new Leap.Vector([e,n,s])},finger:function(t){return null==this.O[t]?Leap.Finger.invalid():this.O[t]},fingers:function(){return this.T},pointable:function(t){return null==this.F[t]?Leap.Pointable.invalid():this.F[t]},pointables:function(){return this.E},tool:function(t){return null==this.Q[t]?{isValid:!1}:this.Q[t]},tools:function(){return this.n},toString:function(){var t="{id:"+obj.H+",sphereCenter:"+(null==obj.Z?"null":obj.Z)+",";t+="sphereRadius:"+(null==obj.X?"null":obj.X)+",",t+="normal:"+(void 0==obj.l?"null":obj.l.toString())+",fingers:[";for(var i=0;this.T.length>i;i++)t+=this.T[i].toString();t+="],tools:[";for(var i=0;this.n.length>i;i++)t+=this.n[i].toString();return t+="],palmNormal:"+(void 0==obj.d?"null":obj.d.toString())+",",t+="palmPosition:"+(void 0==obj.Y?"null":obj.Y.toString())+",",t+="palmVelocity:"+(void 0==obj.W?"null":obj.W.toString())+"}"},isValid:function(){return this.C},U:function(){this.P=null}},Leap.Hand.invalid=function(){return new Leap.Hand},Leap.HandList=function(){},Leap.HandList.prototype=Leap.V.prototype,Leap.Listener=function(){this.onConnect=function(){},this.onDisconnect=function(){},this.onExit=function(){},this.onFrame=function(){},this.onInit=function(){}},Leap.Matrix=function(t){t instanceof Leap.Matrix?(this.xBasis=new Leap.Vector(t.xBasis),this.yBasis=new Leap.Vector(t.yBasis),this.zBasis=new Leap.Vector(t.zBasis),this.origin=new Leap.Vector(t.origin)):t instanceof Array?t[0]instanceof Leap.Vector&&"number"==typeof t[1]?(this.setRotation(t[0],t[1]),this.origin=new Leap.Vector(t[2])):(this.xBasis=new Leap.Vector(t[0]),this.yBasis=new Leap.Vector(t[1]),this.zBasis=new Leap.Vector(t[2]),this.origin=new Leap.Vector(t[3])):(this.xBasis=new Leap.Vector([1,0,0]),this.yBasis=new Leap.Vector([0,1,0]),this.zBasis=new Leap.Vector([0,0,1]),this.origin=new Leap.Vector([0,0,0]))},Leap.Matrix.prototype={setRotation:function(t,i){var e=t.normalized(),n=Math.sin(i),s=Math.cos(i),r=1-s;this.xBasis=new Leap.Vector([e.x*e.x*r+s,e.x*e.y*r-e.z*n,e.x*e.z*r+e.y*n]),this.yBasis=new Leap.Vector([e.y*e.x*r+e.z*n,e.y*e.y*r+s,e.y*e.z*r-e.x*n]),this.zBasis=new Leap.Vector([e.z*e.x*r-e.y*n,e.z*e.y*r+e.x*n,e.z*e.z*r+s])},transformPoint:function(t){return this.origin.plus(this.transformDirection(t))},transformDirection:function(t){var i=this.xBasis.multiply(t.x),e=this.yBasis.multiply(t.y),n=this.zBasis.multiply(t.z);return i.plus(e).plus(n)},times:function(t){var i=this.transformDirection(t.xBasis),e=this.transformDirection(t.yBasis),n=this.transformDirection(t.zBasis),s=this.transformPoint(t.origin);return new Leap.Matrix([i,e,n,s])},rigidInverse:function(){var t=new Leap.Vector([this.xBasis.x,this.yBasis.x,this.zBasis.x]),i=new Leap.Vector([this.xBasis.y,this.yBasis.y,this.zBasis.y]),e=new Leap.Vector([this.xBasis.z,this.yBasis.z,this.zBasis.z]),n=new Leap.Matrix([t,i,e]);return n.origin=n.transformDirection(Leap.Vector.zero().minus(this.origin)),n},toArray3x3:function(t){return null==t?t=[]:t.length=0,t[0]=this.xBasis.x,t[1]=this.xBasis.y,t[2]=this.xBasis.z,t[3]=this.yBasis.x,t[4]=this.yBasis.y,t[5]=this.yBasis.z,t[6]=this.zBasis.x,t[7]=this.zBasis.y,t[8]=this.zBasis.z,t},toArray4x4:function(t){return null==t?t=[]:t.length=0,t[0]=this.xBasis.x,t[1]=this.xBasis.y,t[2]=this.xBasis.z,t[3]=0,t[4]=this.yBasis.x,t[5]=this.yBasis.y,t[6]=this.yBasis.z,t[7]=0,t[8]=this.zBasis.x,t[9]=this.zBasis.y,t[10]=this.zBasis.z,t[11]=0,t[12]=this.origin.x,t[13]=this.origin.y,t[14]=this.origin.z,t[15]=1,t},toString:function(){return"{xBasis:"+this.xBasis+",yBasis:"+this.yBasis+",zBasis:"+this.zBasis+",origin:"+this.origin+"}"},compare:function(t){return this.xBasis.compare(t.xBasis)&&this.yBasis.compare(t.yBasis)&&this.zBasis.compare(t.zBasis)&&this.origin.compare(t.origin)}},Leap.Matrix.identity=function(){return new Leap.Matrix},Leap.Plane=function(t,i,e){this.a=new Leap.Vector(t),this.AH=new Leap.Vector(i),this.AJ=new Leap.Vector(e)},Leap.Plane.prototype={normal:function(){var t=this.a.x-this.AH.x,i=this.AH.y-this.a.y,e=this.a.z-this.AH.z,n=this.a.x-this.AJ.x,s=this.AJ.y-this.a.y,r=this.a.z-this.AJ.z,o=i*r-s*e,a=t*r-n*e,h=t*s-n*i;return this.l=0==o&&0==a&&0==h?null:new Leap.Vector([o,a,h]),this.normal=function(){return this.l},this.l},unitnormal:function(){var t=this.normal();return this.AG=null==t?null:t.normalized(),this.unitnormal=function(){return this.AG},this.AG},pointIntersect:function(t){var i=this.unitnormal(),e=this.pointDistance(t),n=i.multiply(e).plus(t);return{position:n,distance:e}},pointDistance:function(t){var i=this.unitnormal(),e=-i.dot(this.a.minus(t));return e},rayIntersect:function(t,i){var e=i.dot(this.normal());if(0==e)return null;var n=this.a.minus(t).dot(this.normal()),s=n/e;if(0>s&&this.normal().angleTo(i)<Math.PI/2)return null;var r=t.plus(i.multiply(s)),o=s*i.magnitude();return{position:r,distance:o}}},Leap.PointableList=function(){},Leap.PointableList.prototype=Leap.V.prototype,Leap.Screen=function(t){if(this.c=t,t){"3"in t||(this.c[3]=window.innerWidth),"4"in t||(this.c[4]=window.innerHeight),"5"in t||(this.c[5]=window.screenX),"6"in t||(this.c[6]=window.screenY),this.offset(),this.AB=new Leap.Plane(t[0],t[1],t[2]),this.Aa=t[0].plus(t[2]).dividedBy(2),this.Ab=t[1].plus(t[1].minus(this.Aa));var i=t[2].minus(t[0]),e=t[0].minus(t[1]),n=2*i.magnitude()/this.c[3],s=4*e.magnitude()/this.c[4];this.Ah=i.normalized().dividedBy(n),this.Ag=e.normalized().dividedBy(s),this.C=!0}else this.AB=new Leap.Plane,this.Aa=new Leap.Vector,this.Ab=new Leap.Vector,this.Ah=new Leap.Vector,this.Ag=new Leap.Vector,this.c=[new Leap.Vector,new Leap.Vector,new Leap.Vector,0,0,0,0],this.C=!1},Leap.Screen.prototype={distanceToPoint:function(t){return this.AB.pointDistance(t)},intersect:function(){var t,i,e,n;arguments[0]instanceof Leap.Vector?(t=arguments[0],i=arguments[1],e=arguments[2],n=arguments[3]):(t=arguments[0].tipPosition(),i=arguments[0].direction(),e=arguments[1],n=arguments[2]);var s=this.AB.rayIntersect(t,i);if(null!=s)return e&&(s=this.AN(s)),s},normal:function(){return this.AB.normal()},project:function(t,i){arguments[0]instanceof Leap.Vector||(t=t.tipPosition());var e=this.AB.pointIntersect(t);if(null!=e)return i&&(e=this.AN(e)),e},AN:function(t){var i=t.position.minus(this.Ab),e=this.Ah.dot(i)+this.x,n=this.Ag.dot(i)+this.y;return t.position=new Leap.Vector([e,n,0]),t},offset:function(){this.x=this.c[5]-window.screenX,this.y=this.c[6]-window.screenY},isValid:function(){return this.C}},Leap.Screen.invalid=function(){return new Leap.Screen},Leap.ScreenList=function(){if(localStorage.screens){var t=JSON.parse(localStorage.screens);for(var i in t){var e=t[i];if(7==e.length){var n=[new Leap.Vector(e[0]),new Leap.Vector(e[1]),new Leap.Vector(e[2]),e[3],e[4],e[5],e[6]];this.push(new Leap.Screen(n))}}this.save()}},Leap.ScreenList.prototype=Leap.V.prototype,Leap.ScreenList.prototype.closestScreenHit=function(t){if(this.empty())return Leap.Screen.invalid();for(var i,e=Leap.Screen.invalid(),n=0;this.length>n;n++){var s=this[n].intersect(t);s&&(0==e.C||i>s.distance)&&(e=this[n],i=s.distance)}return e},Leap.ScreenList.prototype.save=function(){for(var t=[],i=0;this.length>i;i++)t.push(this[i].c);localStorage.screens=JSON.stringify(t)},Leap.ScreenList.prototype.clear=function(){this.length=0,this.save()},Leap.Tool=function(t,i){Leap.Pointable(t,i,this),this.AZ=!0,this.AO=!1},Leap.Tool.prototype=Leap.Pointable.prototype,Leap.Tool.invalid=function(){return new Leap.Tool},Leap.ToolList=function(){},Leap.ToolList.prototype=Leap.V.prototype,Leap.Vector=function(t){null==t?(this.x=0,this.y=0,this.z=0):"x"in t?(this.x=t.x,this.y=t.y,this.z=t.z):"0"in t&&(this.x="number"==typeof t[0]?t[0]:0,this.y="number"==typeof t[1]?t[1]:0,this.z="number"==typeof t[2]?t[2]:0)},Leap.Vector.prototype={angleTo:function(t){var i=this.magnitude()*t.magnitude();return i>0?Math.acos(this.dot(t)/i):0},cross:function(t){var i=this.y*t.z-t.y*this.z,e=this.x*t.z-t.x*this.z,n=this.x*t.y-t.x*this.y;return new Leap.Vector([i,e,n])},distanceTo:function(t){return this.minus(t).magnitude()},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},plus:function(t){return new Leap.Vector([this.x+t.x,this.y+t.y,this.z+t.z])},minus:function(t){return new Leap.Vector([this.x-t.x,this.y-t.y,this.z-t.z])},multiply:function(t){return new Leap.Vector([this.x*t,this.y*t,this.z*t])},dividedBy:function(t){return new Leap.Vector([this.x/t,this.y/t,this.z/t])},magnitude:function(){return Math.sqrt(this.magnitudeSquared())},magnitudeSquared:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2)},normalized:function(){var t=this.magnitude();return t>0?this.dividedBy(t):new Leap.Vector},pitch:function(){return Math.atan2(this.y,-this.z)},roll:function(){return Math.atan2(this.x,-this.y)},yaw:function(){return Math.atan2(this.x,-this.z)},toArray:function(){return[this.x,this.y,this.z]},toString:function(){return"{x:"+this.x+",y:"+this.y+",z:"+this.z+"}"},compare:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},isValid:function(){return 0/0!=this.x&&this.x>-1/0&&1/0>this.x&&0/0!=this.y&&this.y>-1/0&&1/0>this.y&&0/0!=this.z&&this.z>-1/0&&1/0>this.z}},Leap.Vector.backward=function(){return new Leap.Vector([0,0,1])},Leap.Vector.down=function(){return new Leap.Vector([0,-1,0])},Leap.Vector.forward=function(){return new Leap.Vector([0,0,-1])},Leap.Vector.left=function(){return new Leap.Vector([-1,0,0])},Leap.Vector.right=function(){return new Leap.Vector([1,0,0])},Leap.Vector.up=function(){return new Leap.Vector([0,1,0])},Leap.Vector.xAxis=function(){return new Leap.Vector([1,0,0])},Leap.Vector.yAxis=function(){return new Leap.Vector([0,1,0])},Leap.Vector.zAxis=function(){return new Leap.Vector([0,0,1])},Leap.Vector.zero=function(){return new Leap.Vector([0,0,0])};