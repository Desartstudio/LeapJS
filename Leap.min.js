var Leap={APIVersion:"0.7.7"};Leap.List=function(){},Leap.List.prototype=new Array,Leap.List.prototype.count=function(){return this.length},Leap.List.prototype.isEmpty=function(){return 0===this.length},Leap.List.prototype.empty=function(){return 0===this.length},Leap.List.prototype.append=function(t){for(i=0;i<t.length;i++)this.push(t[i])},Leap.List.prototype.W=function(){for(var t=0;t<this.length;t++)this[t].W()},Leap.Pointable=function(t,i,e){null==e&&(e=this),null==t?(e.R=Leap.Frame.invalid(),e.Al=Leap.Hand.invalid(),e.H=null,e.C=!1,e.O=new Leap.Vector,e.p=new Leap.Vector,e.o=new Leap.Vector,e.AJ=null,e.AT=null):(e.R=i?i.R:Leap.Frame.invalid(),e.Al=i,e.H=t.id,e.C=!0,e.O=new Leap.Vector(t.direction),e.p=new Leap.Vector(t.tipPosition),e.o=new Leap.Vector(t.tipVelocity),e.AJ=t.length,e.AT=t.width)},Leap.Pointable.prototype={frame:function(){return this.R},hand:function(){return this.Al},id:function(){return this.H},direction:function(){return this.O},tipPosition:function(){return this.p},tipVelocity:function(){return this.o},isFinger:function(){return this.AQ},isTool:function(){return this.Ac},length:function(){return this.AJ},width:function(){return this.AT},toString:function(){var t="{id:"+this.H+",direction:"+this.O.toString()+",";return t+="tipPosition:"+this.p.toString()+",",t+="tipVelocity:"+this.o.toString()+",",t+="length:"+this.AJ+",",t+="width:"+this.AT+"}"},isValid:function(){return this.C},W:function(){this.R=null}},Leap.Pointable.invalid=function(){return new Leap.Pointable},Leap.PointableList=function(){},Leap.PointableList.prototype=new Leap.List,Leap.PointableList.prototype.leftmost=function(){var t=Leap.Pointable.invalid();for(i=0;i<this.length;i++)(0==t.C||this[i].tipPosition().x<t.tipPosition().x)&&this[i].C&&(t=this[i]);return t},Leap.PointableList.prototype.rightmost=function(){var t=Leap.Pointable.invalid();for(i=0;i<this.length;i++)(0==t.C||this[i].tipPosition().x>t.tipPosition().x)&&this[i].C&&(t=this[i]);return t},Leap.PointableList.prototype.frontmost=function(){var t=Leap.Pointable.invalid();for(i=0;i<this.length;i++)(0==t.C||this[i].tipPosition().z<t.tipPosition().z)&&this[i].C&&(t=this[i]);return t},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),Leap.AnimLoop=function(t,i){this.B=t,this.Ah=i;var e=this;this.Af=function(t){window.requestAnimFrame(function(){e.Af(e.B)}),e.Ah(t)},t.isConnected()?window.requestAnimFrame(function(){e.Af(e.B)}):(this.V=new Leap.Listener,this.V.onConnect=function(){e.B.removeListener(e.V),window.requestAnimFrame(function(){e.Af(e.B)})},t.addListener(this.V))},Leap.Calibrate=function(t){this.B=t,this.AF=[];var i=this;this.c=document.createElement("div"),this.c.style.cssText=this.AB+this.AA,this.c.innerHTML="1",this.AH=this.AZ,this.c.onclick=function(){i.AH()},window.onkeyup=function(t){32===t.keyCode&&i.AH()},this.AL=document.createElement("div"),this.AL.style.cssText=this.AM+this.AA,this.AL.innerHTML="Position one finger on the square until<br>it turns green then click it or press space.",this.AE=document.createElement("div"),this.AE.style.cssText=this.AC+this.AA,document.body.appendChild(this.c),document.body.appendChild(this.AL),document.body.appendChild(this.AE);var i=this;this.V=new Leap.Listener,this.V.onFrame=function(t){i.AW(t)},this.B.addListener(this.V),this.G=null,this.AR=new Leap.Vector([0,0,-1])},Leap.Calibrate.prototype={AB:"width: 20px; height: 20px; padding: 10px; margin: -20px; position: fixed; text-align: center; background-color: #c3cccc; color: #ffffff; cursor: pointer; ",AA:"left: 25%; top: 50%;",w:"left: 25%; top: 25%;",v:"left: 75%; top: 50%;",AM:"height: 32px; padding-top: 4px; padding-bottom: 4px; padding-left: 8px; padding-right: 8px; margin-top: -20px; margin-left: 26px; border-radius: 5px; position: fixed; background-color: rgba(0,0,0,0.7); color: #FFFFFF; font: 14px Helvetica, Sans-Serif;",AC:"height: 0; width: 0; border: 6px solid; border-color: transparent rgba(0,0,0,0.7) transparent transparent; margin-top: -6px; margin-left: 14px; position: fixed;",AZ:function(){this.B.frame().pointables(),this.G&&(this.AF[0]=this.G.tipPosition(),this.c.style.cssText=this.AB+this.w,this.AL.style.cssText=this.AM+this.w,this.AE.style.cssText=this.AC+this.w,this.c.innerHTML="2",this.AH=this.AY)},AY:function(){this.B.frame().pointables(),this.G&&(this.AF[1]=this.G.tipPosition(),this.c.style.cssText=this.AB+this.v,this.AL.style.cssText=this.AM+this.v,this.AE.style.cssText=this.AC+this.v,this.c.innerHTML="3",this.AH=this.Aa)},Aa:function(){if(this.B.frame().pointables(),this.G){this.AF[2]=this.G.tipPosition(),document.body.removeChild(this.c),document.body.removeChild(this.AL),document.body.removeChild(this.AE),delete this.c;var t=new Leap.Screen(this.AF);this.B.u.push(t),this.B.u.save(),this.B.removeListener(this.V),this.onComplete(t)}},AW:function(t){var i=t.frame().pointables(),e=i.count();this.G=null;for(var n=0;e>n;n++){var s=i[n];s.direction().angleTo(this.AR)<Math.PI/8&&(null==this.G||this.G.tipPosition().z>s.tipPosition().z)&&(this.G=s)}this.c.style.backgroundColor=null==this.G?"#c3cccc":"#BCD63C"},onComplete:function(){}},"undefined"==typeof WebSocket&&"undefined"!=typeof MozWebSocket&&(WebSocket=MozWebSocket),Leap.Controller=function(t){this.m=[],this.t={},this.J={},this.AX=0,this.f=64,this.I=0,this.u=new Leap.ScreenList,this.M=!1,this.L={},this.S=!1,this.N=null;for(var i=0;i<this.f;i++)this.m[i]=Leap.Frame.invalid();this.AV(t)},Leap.Controller.prototype={isConnected:function(){return this.K.connected},frame:function(t){return null==t||0==t?this.m[this.I]:t>this.f-1?Leap.Frame.invalid():(t=this.I-t,0>t&&(t+=this.f),this.m[t])},addListener:function(t){t.H=this.AX++,this.J[t.H]=t,t.onInit(this)},removeListener:function(t){t.onExit(this),this.J[t.H].onExit(this),delete this.J[t.H]},config:function(){},locatedScreens:function(){return this.u},calibratedScreens:function(){return this.u},enableGesture:function(t,i){i?(this.L[t]=Leap.Gesture.Type[t],this.M||(this.M=!0,this.isConnected()&&this.K.send('{"enableGestures": true}'))):(delete this.L[t],this.M&&0==Object.keys(this.L).length&&(this.M=!1,this.isConnected()&&this.K.send('{"enableGestures": false}')))},isGestureEnabled:function(t){return this.L[t]?!0:!1},Ai:100,enableHeartbeat:function(){if(null===this.N){this.S=!0;var t=this;this.isConnected()&&(this.N=setInterval(function(){t.Ao()},this.Ai))}},disableHeartbeat:function(){null!==this.N&&(this.S=!1,clearInterval(this.N),this.N=null)},isHeartbeatEnabled:function(){return this.S},Ao:function(){this.K.send('{"heartbeat":true}')},Ag:function(t){var i=JSON.parse(t.data),e=new Leap.Frame(i,this);this.I++,this.I==this.f&&(this.I=0);var n=this.m[this.I];n.W(),delete this.t[n.H],delete this.m[this.I],this.t[e.H]=e,this.m[this.I]=e;for(index in this.J)this.J[index].onFrame(this)},AS:function(t){Leap.serverVersion=JSON.parse(t.data).version,this.K.onmessage=function(t){this.B.Ag(t)}},AV:function(t){"undefined"!=typeof WebSocket&&(this.K&&delete this.K,this.K=new WebSocket(t),this.K.B=this,this.K.connected=!1,this.K.onmessage=function(t){this.B.AS(t)},this.K.onopen=function(){this.connected=!0,this.B.M&&this.send('{"enableGestures": true}'),this.B.S&&this.enableHeartbeat();for(index in this.B.J)this.B.J[index].onConnect(this.B)},this.K.onclose=function(){this.connected=!1,null!==this.N&&(clearInterval(this.N),this.N=null);for(index in this.B.J)this.B.J[index].onDisconnect(this.B);var t=this;setTimeout(function(){t.B.AV(t.url)},1e3)},this.K.onerror=function(t){this.onclose(t)})}},Leap.Finger=function(t,i){Leap.Pointable(t,i,this),this.AQ=!0,this.Ac=!1},Leap.Finger.prototype=Leap.Pointable.prototype,Leap.Finger.invalid=function(){return new Leap.Finger},Leap.FingerList=function(){},Leap.FingerList.prototype=new Leap.PointableList,Leap.Frame=function(t,i){if(this.B=i,this.U=new Leap.FingerList,this.n=new Leap.ToolList,this.E=new Leap.PointableList,this.q=new Leap.HandList,this.s=new Leap.GestureList,this.Q={},this.T={},this.F={},this.l={},this.j={},null==t)this.H=null,this.k=null,this.C=!1,this.A=new Leap.Matrix,this.r=null,this.D=new Leap.Vector;else{this.H=t.id,this.k=t.timestamp,this.C=!0,this.A=new Leap.Matrix(t.r),this.r=t.s,this.D=new Leap.Vector(t.t);for(index in t.hands){var e=new Leap.Hand(t.hands[index],this);this.l[e.H]=e,this.q.push(e)}for(index in t.pointables){var n=this.l[t.pointables[index].handId];if(t.pointables[index].tool){var s=new Leap.Tool(t.pointables[index],n);this.F[s.H]=this.T[s.H]=s,this.E.push(s),this.n.push(s),n&&(n.F[s.H]=n.T[s.H]=s,n.E.push(s),n.n.push(s))}else{var s=new Leap.Finger(t.pointables[index],n);this.F[s.H]=this.Q[s.H]=s,this.E.push(s),this.U.push(s),n&&(n.F[s.H]=n.Q[s.H]=s,n.E.push(s),n.U.push(s))}}for(index in t.gestures){var r=this.B.L[t.gestures[index].type];if(r){var o=new r(t.gestures[index],this);this.j[o.H]=o,this.s.push(o)}}}},Leap.Frame.prototype={id:function(){return this.H},timestamp:function(){return this.k},rotationAngle:function(t,i){if(!this.C||!t.C)return 0;var e=.5*(this.A.xBasis.x+this.A.yBasis.y+this.A.zBasis.z-1),n=Math.acos(e);if(n=isNaN(n)?0:n,i){var s=this.rotationAxis(t);n*=s.dot(i.normalized())}return n},rotationAxis:function(t){if(!this.C||!t.C)return Leap.Vector.zero();var i=this.A.zBasis.y-t.A.yBasis.z,e=this.A.xBasis.z-t.A.zBasis.x,n=this.A.yBasis.x-t.A.xBasis.y,s=new Leap.Vector([i,e,n]);return s.normalized()},rotationMatrix:function(t){if(!this.C||!t.C)return Leap.Matrix.identity();var i=new Leap.Vector([this.A.xBasis.x,this.A.yBasis.x,this.A.zBasis.x]),e=new Leap.Vector([this.A.xBasis.y,this.A.yBasis.y,this.A.zBasis.y]),n=new Leap.Vector([this.A.xBasis.z,this.A.yBasis.z,this.A.zBasis.z]),s=new Leap.Matrix([i,e,n]);return t.A.times(s)},scaleFactor:function(t){return this.C&&t.C?Math.exp(this.r-t.r):1},translation:function(t){if(!this.valid||!t.valid)return Leap.Vector.zero();var i=this.D.x-t.D.x,e=this.D.y-t.D.y,n=this.D.z-t.D.z;return new Leap.Vector([i,e,n])},finger:function(t){return null==this.Q[t]?Leap.Finger.invalid():this.U[t]},fingers:function(){return this.U},gesture:function(t){return null==this.j[t]?Leap.Gesture.invalid():this.j[t]},gestures:function(t){if(null==t)return this.s;for(var i=new Leap.GestureList,e=t.id();e<=this.H;e++){var n=this.B.t[e];null!=n&&i.push(n.s)}return i},hand:function(t){return null==this.l[t]?Leap.Hand.invalid():this.l[t]},hands:function(){return this.q},pointable:function(t){return null==this.F[t]?Leap.Pointable.invalid():this.F[t]},pointables:function(){return this.E},tool:function(t){return null==this.T[t]?Leap.Tool.invalid():this.T[t]},tools:function(){return this.n},pointables:function(){return this.E},compare:function(t){return this.H==t.id},toString:function(){for(var t="{timestamp:"+this.k+",id:"+this.H+",hands:[",i=0;i<this.q.length;i++)t+=this.q[i].toString();return t+="]}"},isValid:function(){return this.C},W:function(){this.s.W(),this.q.W(),this.E.W()}},Leap.Frame.invalid=function(){return new Leap.Frame},Leap.Gesture=function(t,i,e){if(null==e&&(e=this),e.E=new Leap.PointableList,e.q=new Leap.HandList,null==t)e.H=null,e.R=Leap.Frame.invalid(),e.AU=Leap.Gesture.State.invalid,e.Ae=Leap.Gesture.Type.invalid,e.C=!1;else{e.H=t.id,e.R=i,e.AU=t.state,e.Ae=t.type,e.C=!0;for(index in t.handIds){var n=i.hand(t.handIds[index]);e.q.push(n)}for(index in t.pointableIds){var s=i.pointable(t.pointableIds[index]);e.E.push(s)}}},Leap.Gesture.prototype={id:function(){return this.H},frame:function(){return this.R},state:function(){return this.AU},type:function(){return this.Ae},toString:function(){return"{timestamp:"+this.R.k+",id:"+this.H+",type:"+this.Ae+",state:"+this.AU+"}"},isValid:function(){return this.C},W:function(){this.R=null}},Leap.Gesture.invalid=function(){return new Leap.Gesture},Leap.CircleGesture=function(t,i){Leap.Gesture(t,i,this),this.d=new Leap.Vector(t.normal),this.P=this.E[0],this.h=t.progress,this.Am=t.radius,this.AG=new Leap.Vector(t.center),this.Ad=this.P.direction().angleTo(this.d)<=Math.PI/4},Leap.CircleGesture.prototype=Leap.Gesture.prototype,Leap.CircleGesture.prototype.normal=function(){return this.d},Leap.CircleGesture.prototype.pointable=function(){return this.P},Leap.CircleGesture.prototype.progress=function(){return this.h},Leap.CircleGesture.prototype.radius=function(){return this.Am},Leap.CircleGesture.prototype.center=function(){return this.AG},Leap.CircleGesture.prototype.isClockwise=function(){return this.Ad},Leap.KeyTapGesture=function(t,i){Leap.Gesture(t,i,this),this.P=this.E[0],this.i=new Leap.Vector(t.position),this.h=t.progress},Leap.KeyTapGesture.prototype=Leap.Gesture.prototype,Leap.KeyTapGesture.prototype.pointable=function(){return this.P},Leap.KeyTapGesture.prototype.position=function(){return this.i},Leap.KeyTapGesture.prototype.progress=function(){return this.h},Leap.ScreenTapGesture=function(t,i){Leap.Gesture(t,i,this),this.P=this.E[0],this.i=new Leap.Vector(t.position),this.h=t.progress},Leap.ScreenTapGesture.prototype=Leap.Gesture.prototype,Leap.ScreenTapGesture.prototype.pointable=function(){return this.P},Leap.ScreenTapGesture.prototype.position=function(){return this.i},Leap.ScreenTapGesture.prototype.progress=function(){return this.h},Leap.SwipeGesture=function(t,i){Leap.Gesture(t,i,this),this.O=new Leap.Vector(t.direction),this.P=this.E[0],this.i=new Leap.Vector(t.position),this.An=t.speed,this.AK=new Leap.Vector(t.startPosition)},Leap.SwipeGesture.prototype=Leap.Gesture.prototype,Leap.SwipeGesture.prototype.direction=function(){return this.O},Leap.SwipeGesture.prototype.pointable=function(){return this.P},Leap.SwipeGesture.prototype.position=function(){return this.i},Leap.SwipeGesture.prototype.speed=function(){return this.An},Leap.SwipeGesture.prototype.startPosition=function(){return this.AK},Leap.Gesture.State={invalid:"invalid",start:"start",stop:"stop",update:"update"},Leap.Gesture.Type={invalid:Leap.Gesture.invalid,circle:Leap.CircleGesture,keyTap:Leap.KeyTapGesture,screenTap:Leap.ScreenTapGesture,swipe:Leap.SwipeGesture},Leap.GestureList=function(){},Leap.GestureList.prototype=new Leap.List,Leap.Hand=function(t,i){this.U=new Leap.FingerList,this.n=new Leap.ToolList,this.E=new Leap.PointableList,this.Q={},this.T={},this.F={},null==t?(this.R=Leap.Frame.invalid(),this.H=null,this.C=!1,this.A=new Leap.Matrix,this.r=null,this.D=new Leap.Vector,this.O=new Leap.Vector,this.g=new Leap.Vector,this.Y=new Leap.Vector,this.Z=new Leap.Vector,this.a=new Leap.Vector,this.X=null):(this.R=i,this.H=t.id,this.C=!0,this.A=new Leap.Matrix(t.r),this.r=t.s,this.D=new Leap.Vector(t.t),this.O=new Leap.Vector(t.direction),this.g=new Leap.Vector(t.palmNormal),this.Y=new Leap.Vector(t.palmPosition),this.Z=new Leap.Vector(t.palmVelocity),this.a=new Leap.Vector(t.sphereCenter),this.X=t.sphereRadius)},Leap.Hand.prototype={frame:function(){return this.R},id:function(){return this.H},direction:function(){return this.O},palmNormal:function(){return this.g},palmPosition:function(){return this.Y},palmVelocity:function(){return this.Z},sphereCenter:function(){return this.a},sphereRadius:function(){return this.X},rotationAngle:function(t,i){if(!this.C||!t.C)return 0;var e=t.hand(this.H);if(!e.C)return 0;var n=this.rotationMatrix(t),s=.5*(n.xBasis.x+n.yBasis.y+n.zBasis.z-1),r=Math.acos(s);if(r=isNaN(r)?0:r,i){var o=this.rotationAxis(t);r*=o.dot(i.normalized())}return r},rotationAxis:function(t){if(!this.C||!t.C)return Leap.Vector.zero();var i=t.hand(this.H);if(!i.C)return Leap.Vector.zero();var e=this.A.zBasis.y-i.A.yBasis.z,n=this.A.xBasis.z-i.A.zBasis.x,s=this.A.yBasis.x-i.A.xBasis.y,r=new Leap.Vector([e,n,s]);return r.normalized()},rotationMatrix:function(t){if(!this.C||!t.C)return Leap.Matrix.identity();var i=t.hand(this.H);if(!i.C)return Leap.Matrix.identity();var e=new Leap.Vector([this.A.xBasis.x,this.A.yBasis.x,this.A.zBasis.x]),n=new Leap.Vector([this.A.xBasis.y,this.A.yBasis.y,this.A.zBasis.y]),s=new Leap.Vector([this.A.xBasis.z,this.A.yBasis.z,this.A.zBasis.z]),r=new Leap.Matrix([e,n,s]);return i.A.times(r)},scaleFactor:function(t){if(!this.C||!t.C)return 1;var i=t.hand(this.H);return i.C?Math.exp(this.r-i.r):1},translation:function(t){if(!this.valid||!t.valid)return Leap.Vector.zero();var i=t.hand(this.H);if(!i.C)return Leap.Vector.zero();var e=this.D.x-i.D.x,n=this.D.y-i.D.y,s=this.D.z-i.D.z;return new Leap.Vector([e,n,s])},finger:function(t){return null==this.Q[t]?Leap.Finger.invalid():this.Q[t]},fingers:function(){return this.U},pointable:function(t){return null==this.F[t]?Leap.Pointable.invalid():this.F[t]},pointables:function(){return this.E},tool:function(t){return null==this.T[t]?{isValid:!1}:this.T[t]},tools:function(){return this.n},toString:function(){var t="{id:"+obj.H+",sphereCenter:"+(null==obj.a?"null":obj.a)+",";t+="sphereRadius:"+(null==obj.X?"null":obj.X)+",",t+="normal:"+(void 0==obj.d?"null":obj.d.toString())+",fingers:[";for(var i=0;i<this.U.length;i++)t+=this.U[i].toString();t+="],tools:[";for(var i=0;i<this.n.length;i++)t+=this.n[i].toString();return t+="],palmNormal:"+(void 0==obj.g?"null":obj.g.toString())+",",t+="palmPosition:"+(void 0==obj.Y?"null":obj.Y.toString())+",",t+="palmVelocity:"+(void 0==obj.Z?"null":obj.Z.toString())+"}"},isValid:function(){return this.C},W:function(){this.R=null}},Leap.Hand.invalid=function(){return new Leap.Hand},Leap.HandList=function(){},Leap.HandList.prototype=new Leap.List,Leap.Listener=function(){this.onConnect=function(){},this.onDisconnect=function(){},this.onExit=function(){},this.onFrame=function(){},this.onInit=function(){}},Leap.Matrix=function(t){t instanceof Leap.Matrix?(this.xBasis=new Leap.Vector(t.xBasis),this.yBasis=new Leap.Vector(t.yBasis),this.zBasis=new Leap.Vector(t.zBasis),this.origin=new Leap.Vector(t.origin)):t instanceof Array?t[0]instanceof Leap.Vector&&"number"==typeof t[1]?(this.setRotation(t[0],t[1]),this.origin=new Leap.Vector(t[2])):(this.xBasis=new Leap.Vector(t[0]),this.yBasis=new Leap.Vector(t[1]),this.zBasis=new Leap.Vector(t[2]),this.origin=new Leap.Vector(t[3])):(this.xBasis=new Leap.Vector([1,0,0]),this.yBasis=new Leap.Vector([0,1,0]),this.zBasis=new Leap.Vector([0,0,1]),this.origin=new Leap.Vector([0,0,0]))},Leap.Matrix.prototype={setRotation:function(t,i){var e=t.normalized(),n=Math.sin(i),s=Math.cos(i),r=1-s;this.xBasis=new Leap.Vector([e.x*e.x*r+s,e.x*e.y*r-e.z*n,e.x*e.z*r+e.y*n]),this.yBasis=new Leap.Vector([e.y*e.x*r+e.z*n,e.y*e.y*r+s,e.y*e.z*r-e.x*n]),this.zBasis=new Leap.Vector([e.z*e.x*r-e.y*n,e.z*e.y*r+e.x*n,e.z*e.z*r+s])},transformPoint:function(t){return this.origin.plus(this.transformDirection(t))},transformDirection:function(t){var i=this.xBasis.multiply(t.x),e=this.yBasis.multiply(t.y),n=this.zBasis.multiply(t.z);return i.plus(e).plus(n)},times:function(t){var i=this.transformDirection(t.xBasis),e=this.transformDirection(t.yBasis),n=this.transformDirection(t.zBasis),s=this.transformPoint(t.origin);return new Leap.Matrix([i,e,n,s])},rigidInverse:function(){var t=new Leap.Vector([this.xBasis.x,this.yBasis.x,this.zBasis.x]),i=new Leap.Vector([this.xBasis.y,this.yBasis.y,this.zBasis.y]),e=new Leap.Vector([this.xBasis.z,this.yBasis.z,this.zBasis.z]),n=new Leap.Matrix([t,i,e]);return n.origin=n.transformDirection(Leap.Vector.zero().minus(this.origin)),n},toArray3x3:function(t){return null==t?t=[]:t.length=0,t[0]=this.xBasis.x,t[1]=this.xBasis.y,t[2]=this.xBasis.z,t[3]=this.yBasis.x,t[4]=this.yBasis.y,t[5]=this.yBasis.z,t[6]=this.zBasis.x,t[7]=this.zBasis.y,t[8]=this.zBasis.z,t},toArray4x4:function(t){return null==t?t=[]:t.length=0,t[0]=this.xBasis.x,t[1]=this.xBasis.y,t[2]=this.xBasis.z,t[3]=0,t[4]=this.yBasis.x,t[5]=this.yBasis.y,t[6]=this.yBasis.z,t[7]=0,t[8]=this.zBasis.x,t[9]=this.zBasis.y,t[10]=this.zBasis.z,t[11]=0,t[12]=this.origin.x,t[13]=this.origin.y,t[14]=this.origin.z,t[15]=1,t},toString:function(){return"{xBasis:"+this.xBasis+",yBasis:"+this.yBasis+",zBasis:"+this.zBasis+",origin:"+this.origin+"}"},compare:function(t){return this.xBasis.compare(t.xBasis)&&this.yBasis.compare(t.yBasis)&&this.zBasis.compare(t.zBasis)&&this.origin.compare(t.origin)}},Leap.Matrix.identity=function(){return new Leap.Matrix},Leap.Plane=function(t,i,e){this.b=new Leap.Vector(t),this.AO=new Leap.Vector(i),this.AN=new Leap.Vector(e)},Leap.Plane.prototype={normal:function(){var t=this.b.x-this.AO.x,i=this.AO.y-this.b.y,e=this.b.z-this.AO.z,n=this.b.x-this.AN.x,s=this.AN.y-this.b.y,r=this.b.z-this.AN.z,o=i*r-s*e,a=t*r-n*e,h=t*s-n*i;return this.d=0==o&&0==a&&0==h?null:new Leap.Vector([o,a,h]),this.normal=function(){return this.d},this.d},unitnormal:function(){var t=this.normal();return this.AI=null==t?null:t.normalized(),this.unitnormal=function(){return this.AI},this.AI},pointIntersect:function(t){var i=this.unitnormal(),e=this.pointDistance(t),n=i.multiply(e).plus(t);return{position:n,distance:e}},pointDistance:function(t){var i=this.unitnormal(),e=-i.dot(this.b.minus(t));return e},rayIntersect:function(t,i){var e=i.dot(this.normal());if(0==e)return null;var n=this.b.minus(t).dot(this.normal()),s=n/e;if(0>s&&this.normal().angleTo(i)<Math.PI/2)return null;var r=t.plus(i.multiply(s)),o=s*i.magnitude();return{position:r,distance:o}}},Leap.Screen=function(t){if(this.e=t,t){"3"in t||(this.e[3]=window.innerWidth),"4"in t||(this.e[4]=window.innerHeight),"5"in t||(this.e[5]=window.screenX),"6"in t||(this.e[6]=window.screenY),this.offset(),this.AD=new Leap.Plane(t[0],t[1],t[2]),this.AG=t[0].plus(t[2]).dividedBy(2),this.Ab=t[1].plus(t[1].minus(this.AG));var i=t[2].minus(t[0]),e=t[0].minus(t[1]),n=2*i.magnitude()/this.e[3],s=4*e.magnitude()/this.e[4];this.Ak=i.normalized().dividedBy(n),this.Aj=e.normalized().dividedBy(s),this.C=!0}else this.AD=new Leap.Plane,this.AG=new Leap.Vector,this.Ab=new Leap.Vector,this.Ak=new Leap.Vector,this.Aj=new Leap.Vector,this.e=[new Leap.Vector,new Leap.Vector,new Leap.Vector,0,0,0,0],this.C=!1},Leap.Screen.prototype={distanceToPoint:function(t){return this.AD.pointDistance(t)},intersect:function(){var t,i,e,n;arguments[0]instanceof Leap.Vector?(t=arguments[0],i=arguments[1],e=arguments[2],n=arguments[3]):(t=arguments[0].tipPosition(),i=arguments[0].direction(),e=arguments[1],n=arguments[2]);var s=this.AD.rayIntersect(t,i);if(null!=s)return e&&(s=this.AP(s)),s},normal:function(){return this.AD.normal()},project:function(t,i){arguments[0]instanceof Leap.Vector||(t=t.tipPosition());var e=this.AD.pointIntersect(t);if(null!=e)return i&&(e=this.AP(e)),e},AP:function(t){var i=t.position.minus(this.Ab),e=this.Ak.dot(i)+this.x,n=this.Aj.dot(i)+this.y;return t.position=new Leap.Vector([e,n,0]),t},offset:function(){this.x=this.e[5]-window.screenX,this.y=this.e[6]-window.screenY},isValid:function(){return this.C}},Leap.Screen.invalid=function(){return new Leap.Screen},Leap.ScreenList=function(){if(localStorage.screens){var t=JSON.parse(localStorage.screens);for(var i in t){var e=t[i];if(7==e.length){var n=[new Leap.Vector(e[0]),new Leap.Vector(e[1]),new Leap.Vector(e[2]),e[3],e[4],e[5],e[6]];this.push(new Leap.Screen(n))}}this.save()}},Leap.ScreenList.prototype=new Leap.List,Leap.ScreenList.prototype.closestScreenHit=function(t){if(this.empty())return Leap.Screen.invalid();for(var i,e=Leap.Screen.invalid(),n=0;n<this.length;n++){var s=this[n].intersect(t);s&&(0==e.C||s.distance<i)&&(e=this[n],i=s.distance)}return e},Leap.ScreenList.prototype.save=function(){for(var t=[],i=0;i<this.length;i++)t.push(this[i].e);localStorage.screens=JSON.stringify(t)},Leap.ScreenList.prototype.clear=function(){this.length=0,this.save()},Leap.Tool=function(t,i){Leap.Pointable(t,i,this),this.Ac=!0,this.AQ=!1},Leap.Tool.prototype=Leap.Pointable.prototype,Leap.Tool.invalid=function(){return new Leap.Tool},Leap.ToolList=function(){},Leap.ToolList.prototype=new Leap.PointableList,Leap.Vector=function(t){null==t?(this.x=0,this.y=0,this.z=0):"x"in t?(this.x=t.x,this.y=t.y,this.z=t.z):"0"in t&&(this.x="number"==typeof t[0]?t[0]:0,this.y="number"==typeof t[1]?t[1]:0,this.z="number"==typeof t[2]?t[2]:0)},Leap.Vector.prototype={angleTo:function(t){var i=this.magnitude()*t.magnitude();return i>0?Math.acos(this.dot(t)/i):0},cross:function(t){var i=this.y*t.z-t.y*this.z,e=this.x*t.z-t.x*this.z,n=this.x*t.y-t.x*this.y;return new Leap.Vector([i,e,n])},distanceTo:function(t){return this.minus(t).magnitude()},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},plus:function(t){return new Leap.Vector([this.x+t.x,this.y+t.y,this.z+t.z])},minus:function(t){return new Leap.Vector([this.x-t.x,this.y-t.y,this.z-t.z])},multiply:function(t){return new Leap.Vector([this.x*t,this.y*t,this.z*t])},dividedBy:function(t){return new Leap.Vector([this.x/t,this.y/t,this.z/t])},magnitude:function(){return Math.sqrt(this.magnitudeSquared())},magnitudeSquared:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2)},normalized:function(){var t=this.magnitude();return t>0?this.dividedBy(t):new Leap.Vector},pitch:function(){return Math.atan2(this.y,-this.z)},roll:function(){return Math.atan2(this.x,-this.y)},yaw:function(){return Math.atan2(this.x,-this.z)},toArray:function(){return[this.x,this.y,this.z]},toString:function(){return"{x:"+this.x+",y:"+this.y+",z:"+this.z+"}"},compare:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},isValid:function(){return 0/0!=this.x&&this.x>-1/0&&this.x<1/0&&0/0!=this.y&&this.y>-1/0&&this.y<1/0&&0/0!=this.z&&this.z>-1/0&&this.z<1/0}},Leap.Vector.backward=function(){return new Leap.Vector([0,0,1])},Leap.Vector.down=function(){return new Leap.Vector([0,-1,0])},Leap.Vector.forward=function(){return new Leap.Vector([0,0,-1])},Leap.Vector.left=function(){return new Leap.Vector([-1,0,0])},Leap.Vector.right=function(){return new Leap.Vector([1,0,0])},Leap.Vector.up=function(){return new Leap.Vector([0,1,0])},Leap.Vector.xAxis=function(){return new Leap.Vector([1,0,0])},Leap.Vector.yAxis=function(){return new Leap.Vector([0,1,0])},Leap.Vector.zAxis=function(){return new Leap.Vector([0,0,1])},Leap.Vector.zero=function(){return new Leap.Vector([0,0,0])};